<app-navbar></app-navbar>
<div class="wrap">
  <div class="toolbar">
    <h2 class="title">Admin Dashboard</h2>
  </div>

  <!-- SEASONS -->
  <section class="card">
    <div class="section-head">
      <h3 class="card-title">Seasons</h3>
      <button class="btn accent" (click)="addSeason()">+ Season</button>
    </div>

    <div class="filters">
      <input class="input" type="text" placeholder="Search by name" [(ngModel)]="qSeason" (ngModelChange)="applySeasonFilters()">
      <input class="input" type="date" [(ngModel)]="seasonFrom" (ngModelChange)="applySeasonFilters()">
      <input class="input" type="date" [(ngModel)]="seasonTo" (ngModelChange)="applySeasonFilters()">
      <select class="input" [(ngModel)]="seasonSort" (ngModelChange)="applySeasonFilters()">
        <option value="start-asc">Start date ↑</option>
        <option value="start-desc">Start date ↓</option>
      </select>
    </div>

    <div *ngIf="loadingSeasons" class="skeleton"></div>
    <app-season-list *ngIf="!loadingSeasons"
                     [seasons]="filteredSeasons"
                     (open)="openSeason($event)">
    </app-season-list>
  </section>

  <!-- USERS -->
  <section class="card">
    <div class="section-head">
      <h3 class="card-title">Users</h3>
      <button class="btn accent" (click)="addUser()">+ User</button>
    </div>

    <app-users-table (open)="openUser($event)"></app-users-table>
  </section>
</div>
