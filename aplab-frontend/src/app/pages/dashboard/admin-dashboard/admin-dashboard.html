<app-navbar></app-navbar>
<div class="wrap">
  <div class="toolbar">
    <h2 class="title">Admin Dashboard</h2>
  </div>

  <section class="card">
    <div class="section-head">
      <h3 class="card-title">Seasons</h3>
      <button class="btn accent" (click)="addSeason()">+ Season</button>
    </div>

    <div class="filters">
      <div class="search">
        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke-width="2">
          <circle cx="11" cy="11" r="7" stroke="currentColor"></circle>
          <line x1="16.65" y1="16.65" x2="21" y2="21" stroke="currentColor"></line>
        </svg>
        <input
          class="search-input"
          type="search"
          placeholder="Search seasons by name"
          [(ngModel)]="qSeason"
          (ngModelChange)="applySeasonFilters()"
          aria-label="Search seasons by name"
        >
        <button
          class="clear"
          *ngIf="qSeason"
          (click)="qSeason=''; applySeasonFilters()"
          aria-label="Clear search"
          type="button"
        >Ã—</button>
      </div>
    </div>

    <div *ngIf="loadingSeasons" class="skeleton"></div>
    <app-season-list
      *ngIf="!loadingSeasons"
      [seasons]="filteredSeasons"
      (open)="openSeason($event)"
    >
    </app-season-list>
  </section>

  <section class="card">
    <div class="section-head">
      <h3 class="card-title">Users</h3>
      <button class="btn accent" (click)="addUser()">+ User</button>
    </div>

    <app-users-table (open)="openUser($event)"></app-users-table>
  </section>
</div>
