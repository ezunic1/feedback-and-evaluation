<div class="profile-wrap">
  <a routerLink="/" class="back-link">← Back to home page</a>

  <h2 class="title">My Profile</h2>

  <section class="profile-card" *ngIf="!loading; else skel">
    <div class="header">
      <div class="avatar">
        {{ ((displayName || email || 'U') | slice:0:1)?.toUpperCase() }}
      </div>
      <div class="id-block">
        <h3>{{ displayName || '—' }}</h3>
        <p class="muted">{{ email || '—' }}</p>
        <span class="role-badge" [class.admin]="role==='admin'"
                                  [class.mentor]="role==='mentor'"
                                  [class.intern]="role==='intern'"
                                  [class.guest]="role==='guest'">{{ role | uppercase }}</span>
      </div>
    </div>

    <div class="divider"></div>

    <div class="info-grid">
      <div class="info-item">
        <span class="label">Full name</span>
        <span class="value">{{ displayName || '—' }}</span>
      </div>
      <div class="info-item">
        <span class="label">Email</span>
        <span class="value">{{ email || '—' }}</span>
      </div>

      <ng-container *ngIf="role === 'intern'">
        <div class="info-item wide">
          <span class="label">Current season</span>
          <span class="value">
            {{ internSeasonName ? internSeasonName : 'You are not assigned to any season currently.' }}
          </span>
        </div>
      </ng-container>

      <ng-container *ngIf="role === 'mentor'">
        <div class="info-item wide">
          <span class="label">Current season</span>
          <span class="value">
            {{ mentorSeasonName ? mentorSeasonName : 'You are not currently mentoring a lab.' }}
          </span>
        </div>
      </ng-container>

      <ng-container *ngIf="role === 'guest' || role === 'admin'">
        <div class="info-item wide">
          <span class="label">Role</span>
          <span class="value">{{ role | uppercase }}</span>
        </div>
      </ng-container>
    </div>

    <div class="actions">
 <button class="btn-secondary" routerLink="/dashboard">Go to Dashboard</button>
  <button class="btn-primary" (click)="logout()">Logout</button>
</div>

  </section>

  <ng-template #skel>
    <section class="profile-card">
      <div class="skeleton header-skel"></div>
      <div class="divider"></div>
      <div class="skeleton row"></div>
      <div class="skeleton row"></div>
      <div class="skeleton row wide"></div>
      <div class="actions">
        <div class="skeleton btn"></div>
        <div class="skeleton btn"></div>
      </div>
    </section>
  </ng-template>
</div>
